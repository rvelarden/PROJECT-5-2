{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/rominavelarde/Desktop/Flatiron/react-test-project/my-app/src/App.js\";\nimport React from \"react\";\nimport './App.css';\nimport './index.js';\nimport MyInfo from './components/MyInfo';\nimport MyForm from \"./components/MyForm.js\";\nlet URL = \"http://localhost:3000/drones\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.droneHandle = updatedDrone => {\n      this.setState({\n        drones: [...this.state.drones.map(drone => drone.id == updatedDrone.id ? updatedDrone : drone)]\n      });\n    };\n\n    this.handleSubmit = e => {\n      //preventDefault because form\n      e.preventDefault();\n      console.log(e.target); //format our data \n\n      let newDrone = {\n        name: e.target.name.value,\n        description: e.target.description.value,\n        image: e.target.image.value,\n        rentprice: e.target.rentprice.value\n      };\n      let reqPackage = {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(newDrone)\n      }; //request to add new dragon\n\n      fetch(URL, reqPackage) //parsing request\n      .then(res => res.json()) //received new dragon\n      .then(newDrone => {\n        console.log(newDrone);\n        this.setState({\n          drones: [...this.state.drones, newDrone]\n        });\n      });\n    };\n\n    console.log('App.js in Constructor');\n    this.state = {\n      drones: []\n    };\n  }\n\n  componentDidMount() {\n    //function from react library\n    // console.log('App.js in ComponentDidMount')\n    fetch(URL).then(res => res.json()).then(drones => {\n      this.setState({\n        drones: drones\n      }); // console.log(drones)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome to DroneShareShip!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(MyInfo, {\n        title: \"Drones Available\",\n        droneHandle: this.droneHandle,\n        drones: this.state.drones\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(MyForm, {\n        handleSubmit: this.handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/rominavelarde/Desktop/Flatiron/react-test-project/my-app/src/App.js"],"names":["React","MyInfo","MyForm","URL","App","Component","constructor","droneHandle","updatedDrone","setState","drones","state","map","drone","id","handleSubmit","e","preventDefault","console","log","target","newDrone","name","value","description","image","rentprice","reqPackage","method","headers","body","JSON","stringify","fetch","then","res","json","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport './App.css';\nimport './index.js'\nimport MyInfo from './components/MyInfo'\nimport MyForm from \"./components/MyForm.js\"\nlet URL = \"http://localhost:3000/drones\"\n\nclass App extends React.Component {\n  constructor(){\n    super()\n    console.log('App.js in Constructor')\n    this.state = {\n      drones: [],\n    }\n  }\n\n  componentDidMount(){\n    //function from react library\n    // console.log('App.js in ComponentDidMount')\n\n    fetch(URL)\n    .then(res => res.json())\n    .then(drones => {\n      this.setState({\n        drones: drones \n        \n      })\n      // console.log(drones)\n    })\n\n  }\n\n  \n\n  droneHandle = (updatedDrone) => {\n  \n    this.setState({\n      drones: [...this.state.drones.map((drone)=> drone.id == updatedDrone.id ? updatedDrone : drone)]\n    })\n  }\n\n  handleSubmit = (e) => {\n    //preventDefault because form\n    e.preventDefault();\n    console.log(e.target)\n    //format our data \n    let newDrone = {\n      name: e.target.name.value,\n      description: e.target.description.value,\n      image: e.target.image.value,\n      rentprice: e.target.rentprice.value\n    };\n\n    let reqPackage = {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newDrone)\n    }\n    //request to add new dragon\n    fetch(URL, reqPackage)\n    //parsing request\n    .then(res => res.json())\n    //received new dragon\n    .then(newDrone => {\n\n      console.log(newDrone)\n      this.setState({\n        drones: [...this.state.drones, newDrone]\n      })\n\n    })\n  }\n\n  render(){\n  return (\n    <div className=\"App\" >\n     <h1>Welcome to DroneShareShip!</h1>\n     <MyInfo title=\"Drones Available\" droneHandle={this.droneHandle} drones={this.state.drones}/>\n     \n     <MyForm handleSubmit={this.handleSubmit}/>\n    </div>\n    ) \n  }\n}\n\nexport default App\n\n"]},"metadata":{},"sourceType":"module"}